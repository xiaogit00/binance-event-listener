2025-06-14 05:44:29 | INFO   | binanceWebsocket.py::websocket_binance_event_listener() | Connecting to wss://fstream.binance.com/ws/xdvkOUstDfMjZOj3RQrMoH0nIU8COpdequCNcP4nSpBc8aQ3HVqd6PE6n3gJ8WM8
2025-06-14 05:44:30 | INFO   | binanceWebsocket.py::websocket_binance_event_listener() | âœ… Connected to Binance event listening websocket
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1749880920521, 'T': 1749880920521, 's': 'SOLUSDT', 'q': '5.04', 'p': '0.0000', 'm': False, 'c': 'Anv081Vbz2m9TEPXAJu6KM', 'S': 'SELL', 'L': '146.9600', 'l': '5.04', 't': 2394022174, 'i': 123105638176}
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749880920521, 'E': 1749880920521, 'o': {'s': 'SOLUSDT', 'c': 'Anv081Vbz2m9TEPXAJu6KM', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '5.04', 'p': '0', 'ap': '0', 'sp': '0', 'x': 'NEW', 'X': 'NEW', 'i': 123105638176, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749880920521, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:02:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105638176, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'MARKET', 'qty': '5.04', 'direction': 'SHORT', 'created_at': 1749880920521}
2025-06-14 06:02:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1749880920521, 'E': 1749880920521, 'a': {'B': [{'a': 'USDT', 'wb': '60.37398418', 'cw': '60.37398418', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '-5.22', 'ep': '147.06827586', 'cr': '-0.06389986', 'up': '0.5129955', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '146.9947417241'}], 'm': 'ORDER'}}
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749880920521, 'E': 1749880920521, 'o': {'s': 'SOLUSDT', 'c': 'Anv081Vbz2m9TEPXAJu6KM', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '5.04', 'p': '0', 'ap': '146.96', 'sp': '0', 'x': 'TRADE', 'X': 'FILLED', 'i': 123105638176, 'l': '5.04', 'z': '5.04', 'L': '146.96', 'n': '0.3703392', 'N': 'USDT', 'T': 1749880920521, 't': 2394022174, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:02:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105638176, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'MARKET', 'qty': '5.04', 'direction': 'SHORT', 'ask_price': '146.96', 'filled_price': '146.96', 'updated_at': 1749880920521}
2025-06-14 06:02:00 | INFO   | db.py::findByIdAndUpdateFilledMarketOrder() | Attempting to UPDATE order 123105638176 to FILLED
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123105638176 "HTTP/2 200 OK"
2025-06-14 06:02:00 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123105638176
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123105638176 "HTTP/2 200 OK"
2025-06-14 06:02:00 | INFO   | main.py::main()                       | No group_id found for order, inserting a new entry in order_groups table
2025-06-14 06:02:00 | INFO   | db.py::get_latest_group_id()          | Trying to get the latest group_id
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=group_id&order=group_id.desc&limit=1 "HTTP/2 200 OK"
2025-06-14 06:02:00 | INFO   | db.py::get_latest_group_id()          | Retrieved data=[{'group_id': 0}] count=1 from db
2025-06-14 06:02:00 | INFO   | db.py::insertNewOrderGroup()          | Trying to insert a new order_group record
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups "HTTP/2 409 Conflict"
2025-06-14 06:02:00 | INFO   | db.py::insertNewTrade()               | Attempting to insert new trade into DB...
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades "HTTP/2 201 Created"
2025-06-14 06:02:00 | INFO   | db.py::insertNewTrade()               | Successfully inserted new trade with group_id 999999999 into trades table.
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749880920761, 'E': 1749880920761, 'o': {'s': 'SOLUSDT', 'c': 'roE4K1Ts5Aqu0mfVhsG9ZT', 'S': 'BUY', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '5.04', 'p': '0', 'ap': '0', 'sp': '147.25', 'x': 'NEW', 'X': 'NEW', 'i': 123105638759, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749880920761, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:02:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105638759, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'STOP_MARKET', 'qty': '5.04', 'direction': 'SHORT', 'created_at': 1749880920761, 'ask_price': '147.25'}
2025-06-14 06:02:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:02:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749880920843, 'E': 1749880920844, 'o': {'s': 'SOLUSDT', 'c': 'vds9Ponx1Bygceb88QzGLf', 'S': 'BUY', 'o': 'TAKE_PROFIT', 'f': 'GTC', 'q': '5.04', 'p': '145.87', 'ap': '0', 'sp': '145.87', 'x': 'NEW', 'X': 'NEW', 'i': 123105638806, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749880920843, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'TAKE_PROFIT', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:02:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105638806, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'TAKE_PROFIT', 'qty': '5.04', 'direction': 'SHORT', 'created_at': 1749880920843, 'ask_price': '145.87'}
2025-06-14 06:02:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:02:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:04:07 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:04:07 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881047482, 'E': 1749881047483, 'o': {'s': 'SOLUSDT', 'c': 'roE4K1Ts5Aqu0mfVhsG9ZT', 'S': 'BUY', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '5.04', 'p': '0', 'ap': '0', 'sp': '147.25', 'x': 'CANCELED', 'X': 'CANCELED', 'i': 123105638759, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881047482, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:04:07 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105638759, 'status': 'CANCELED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'STOP_MARKET', 'qty': '5.04', 'direction': 'SHORT', 'updated_at': 1749881047482}
2025-06-14 06:04:07 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123105638759 "HTTP/2 200 OK"
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881144437, 'E': 1749881144438, 'o': {'s': 'SOLUSDT', 'c': 'vds9Ponx1Bygceb88QzGLf', 'S': 'BUY', 'o': 'TAKE_PROFIT', 'f': 'GTC', 'q': '5.04', 'p': '145.87', 'ap': '0', 'sp': '145.87', 'x': 'CANCELED', 'X': 'CANCELED', 'i': 123105638806, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881144437, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'TAKE_PROFIT', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:05:44 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105638806, 'status': 'CANCELED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'TAKE_PROFIT', 'qty': '5.04', 'direction': 'SHORT', 'updated_at': 1749881144437}
2025-06-14 06:05:44 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123105638806 "HTTP/2 200 OK"
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1749881144448, 'T': 1749881144448, 's': 'SOLUSDT', 'q': '5.22', 'p': '0.0000', 'm': False, 'c': 'web_kWCyU5UVS69I8uomNL4R', 'S': 'BUY', 'L': '146.8100', 'l': '5.22', 't': 2394025004, 'i': 123105926188}
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881144448, 'E': 1749881144448, 'o': {'s': 'SOLUSDT', 'c': 'web_kWCyU5UVS69I8uomNL4R', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.22', 'p': '0', 'ap': '0', 'sp': '0', 'x': 'NEW', 'X': 'NEW', 'i': 123105926188, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881144448, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': True, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:05:44 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105926188, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.22', 'direction': 'LONG', 'created_at': 1749881144448}
2025-06-14 06:05:44 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:05:44 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1749881144448, 'E': 1749881144448, 'a': {'B': [{'a': 'USDT', 'wb': '61.33901008', 'cw': '61.33901008', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '0', 'ep': '0', 'cr': '1.28430014', 'up': '0', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '0'}], 'm': 'ORDER'}}
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:05:44 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881144448, 'E': 1749881144448, 'o': {'s': 'SOLUSDT', 'c': 'web_kWCyU5UVS69I8uomNL4R', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.22', 'p': '0', 'ap': '146.81', 'sp': '0', 'x': 'TRADE', 'X': 'FILLED', 'i': 123105926188, 'l': '5.22', 'z': '5.22', 'L': '146.81', 'n': '0.3831741', 'N': 'USDT', 'T': 1749881144448, 't': 2394025004, 'b': '0', 'a': '0', 'm': False, 'R': True, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '1.3482', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:05:44 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123105926188, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.22', 'direction': 'LONG', 'ask_price': '146.81', 'filled_price': '146.81', 'updated_at': 1749881144448}
2025-06-14 06:05:44 | INFO   | db.py::findByIdAndUpdateFilledMarketOrder() | Attempting to UPDATE order 123105926188 to FILLED
2025-06-14 06:05:44 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123105926188 "HTTP/2 200 OK"
2025-06-14 06:05:44 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123105926188
2025-06-14 06:05:44 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123105926188 "HTTP/2 200 OK"
2025-06-14 06:05:44 | INFO   | db.py::get_group_id_by_order()        | No associated group_id found for order_id: 123105926188
2025-06-14 06:05:44 | INFO   | main.py::main()                       | No group_id found for order, inserting a new entry in order_groups table
2025-06-14 06:05:44 | INFO   | db.py::get_latest_group_id()          | Trying to get the latest group_id
2025-06-14 06:05:44 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=group_id&order=group_id.desc&limit=1 "HTTP/2 206 Partial Content"
2025-06-14 06:05:44 | INFO   | db.py::get_latest_group_id()          | Retrieved data=[{'group_id': 0}] count=3 from db
2025-06-14 06:05:44 | INFO   | db.py::insertNewOrderGroup()          | Trying to insert a new order_group record
2025-06-14 06:05:45 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups "HTTP/2 201 Created"
2025-06-14 06:05:45 | INFO   | db.py::insertNewOrderGroup()          | Successfully inserted new entry with group_id 999999999 into order_group table.
2025-06-14 06:05:45 | INFO   | db.py::insertNewTrade()               | Attempting to insert new trade into DB...
2025-06-14 06:05:45 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades "HTTP/2 409 Conflict"
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1749881220212, 'T': 1749881220212, 's': 'SOLUSDT', 'q': '5.05', 'p': '0.0000', 'm': False, 'c': '8uUqGC5UdEY5yCjAmB1uFN', 'S': 'BUY', 'L': '146.5500', 'l': '5.05', 't': 2394026405, 'i': 123106062665}
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881220212, 'E': 1749881220212, 'o': {'s': 'SOLUSDT', 'c': '8uUqGC5UdEY5yCjAmB1uFN', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.05', 'p': '0', 'ap': '0', 'sp': '0', 'x': 'NEW', 'X': 'NEW', 'i': 123106062665, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881220212, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:07:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106062665, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.05', 'direction': 'LONG', 'created_at': 1749881220212}
2025-06-14 06:07:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:07:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1749881220212, 'E': 1749881220212, 'a': {'B': [{'a': 'USDT', 'wb': '60.96897133', 'cw': '60.96897133', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '5.05', 'ep': '146.55', 'cr': '1.28430014', 'up': '-0.03035534', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '146.623275'}], 'm': 'ORDER'}}
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:07:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881220212, 'E': 1749881220212, 'o': {'s': 'SOLUSDT', 'c': '8uUqGC5UdEY5yCjAmB1uFN', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.05', 'p': '0', 'ap': '146.55', 'sp': '0', 'x': 'TRADE', 'X': 'FILLED', 'i': 123106062665, 'l': '5.05', 'z': '5.05', 'L': '146.55', 'n': '0.37003875', 'N': 'USDT', 'T': 1749881220212, 't': 2394026405, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:07:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106062665, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.05', 'direction': 'LONG', 'ask_price': '146.55', 'filled_price': '146.55', 'updated_at': 1749881220212}
2025-06-14 06:07:00 | INFO   | db.py::findByIdAndUpdateFilledMarketOrder() | Attempting to UPDATE order 123106062665 to FILLED
2025-06-14 06:07:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123106062665 "HTTP/2 200 OK"
2025-06-14 06:07:00 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123106062665
2025-06-14 06:07:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123106062665 "HTTP/2 200 OK"
2025-06-14 06:07:00 | INFO   | db.py::get_group_id_by_order()        | No associated group_id found for order_id: 123106062665
2025-06-14 06:07:00 | INFO   | main.py::main()                       | No group_id found for order, inserting a new entry in order_groups table
2025-06-14 06:07:00 | INFO   | db.py::get_latest_group_id()          | Trying to get the latest group_id
2025-06-14 06:07:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=group_id&order=group_id.desc&limit=1 "HTTP/2 206 Partial Content"
2025-06-14 06:07:00 | INFO   | db.py::get_latest_group_id()          | Retrieved data=[{'group_id': 999999999}] count=4 from db
2025-06-14 06:07:00 | INFO   | db.py::insertNewOrderGroup()          | Trying to insert a new order_group record
2025-06-14 06:07:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups "HTTP/2 201 Created"
2025-06-14 06:07:00 | INFO   | db.py::insertNewOrderGroup()          | Successfully inserted new entry with group_id 999999999 into order_group table.
2025-06-14 06:07:00 | INFO   | db.py::insertNewTrade()               | Attempting to insert new trade into DB...
2025-06-14 06:07:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades "HTTP/2 409 Conflict"
2025-06-14 06:07:01 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:07:01 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881221432, 'E': 1749881221432, 'o': {'s': 'SOLUSDT', 'c': 'NMnkUSWdFHGAxZAb65gA5Y', 'S': 'SELL', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '5.05', 'p': '0', 'ap': '0', 'sp': '146.26', 'x': 'NEW', 'X': 'NEW', 'i': 123106067358, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881221432, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:07:01 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106067358, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '5.05', 'direction': 'LONG', 'created_at': 1749881221432, 'ask_price': '146.26'}
2025-06-14 06:07:01 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:07:01 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:07:02 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:07:02 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881222522, 'E': 1749881222522, 'o': {'s': 'SOLUSDT', 'c': 'b42m43MJUrYx0qQNX3evbu', 'S': 'SELL', 'o': 'TAKE_PROFIT', 'f': 'GTC', 'q': '5.05', 'p': '147.64', 'ap': '0', 'sp': '147.64', 'x': 'NEW', 'X': 'NEW', 'i': 123106069876, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881222522, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'TAKE_PROFIT', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:07:02 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106069876, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'TAKE_PROFIT', 'qty': '5.05', 'direction': 'LONG', 'created_at': 1749881222522, 'ask_price': '147.64'}
2025-06-14 06:07:02 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:07:02 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1749881280504, 'T': 1749881280503, 's': 'SOLUSDT', 'q': '5.05', 'p': '0.0000', 'm': False, 'c': 'VNvVja3GmvkFkjbONk47um', 'S': 'BUY', 'L': '146.5400', 'l': '5.05', 't': 2394027623, 'i': 123106170174}
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881280503, 'E': 1749881280504, 'o': {'s': 'SOLUSDT', 'c': 'VNvVja3GmvkFkjbONk47um', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.05', 'p': '0', 'ap': '0', 'sp': '0', 'x': 'NEW', 'X': 'NEW', 'i': 123106170174, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881280503, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:08:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106170174, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.05', 'direction': 'LONG', 'created_at': 1749881280503}
2025-06-14 06:08:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:08:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1749881280503, 'E': 1749881280504, 'a': {'B': [{'a': 'USDT', 'wb': '60.59895783', 'cw': '60.59895783', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '10.1', 'ep': '146.545', 'cr': '1.28430014', 'up': '-0.08813583', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '146.6182725'}], 'm': 'ORDER'}}
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:08:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881280503, 'E': 1749881280504, 'o': {'s': 'SOLUSDT', 'c': 'VNvVja3GmvkFkjbONk47um', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.05', 'p': '0', 'ap': '146.54', 'sp': '0', 'x': 'TRADE', 'X': 'FILLED', 'i': 123106170174, 'l': '5.05', 'z': '5.05', 'L': '146.54', 'n': '0.3700135', 'N': 'USDT', 'T': 1749881280503, 't': 2394027623, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:08:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106170174, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.05', 'direction': 'LONG', 'ask_price': '146.54', 'filled_price': '146.54', 'updated_at': 1749881280503}
2025-06-14 06:08:00 | INFO   | db.py::findByIdAndUpdateFilledMarketOrder() | Attempting to UPDATE order 123106170174 to FILLED
2025-06-14 06:08:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123106170174 "HTTP/2 200 OK"
2025-06-14 06:08:00 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123106170174
2025-06-14 06:08:01 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123106170174 "HTTP/2 200 OK"
2025-06-14 06:08:01 | INFO   | db.py::get_group_id_by_order()        | No associated group_id found for order_id: 123106170174
2025-06-14 06:08:01 | INFO   | main.py::main()                       | No group_id found for order, inserting a new entry in order_groups table
2025-06-14 06:08:01 | INFO   | db.py::get_latest_group_id()          | Trying to get the latest group_id
2025-06-14 06:08:01 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=group_id&order=group_id.desc&limit=1 "HTTP/2 206 Partial Content"
2025-06-14 06:08:01 | INFO   | db.py::get_latest_group_id()          | Retrieved data=[{'group_id': 999999999}] count=7 from db
2025-06-14 06:08:01 | INFO   | db.py::insertNewOrderGroup()          | Trying to insert a new order_group record
2025-06-14 06:08:01 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups "HTTP/2 201 Created"
2025-06-14 06:08:01 | INFO   | db.py::insertNewOrderGroup()          | Successfully inserted new entry with group_id 999999999 into order_group table.
2025-06-14 06:08:01 | INFO   | db.py::insertNewTrade()               | Attempting to insert new trade into DB...
2025-06-14 06:08:01 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades "HTTP/2 409 Conflict"
2025-06-14 06:08:01 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:08:01 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881281724, 'E': 1749881281724, 'o': {'s': 'SOLUSDT', 'c': '5ozkDIRUECkgttxGyvN8cP', 'S': 'SELL', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '5.05', 'p': '0', 'ap': '0', 'sp': '146.25', 'x': 'NEW', 'X': 'NEW', 'i': 123106170768, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881281724, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:08:01 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106170768, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '5.05', 'direction': 'LONG', 'created_at': 1749881281724, 'ask_price': '146.25'}
2025-06-14 06:08:01 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:08:01 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:08:02 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:08:02 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881282811, 'E': 1749881282812, 'o': {'s': 'SOLUSDT', 'c': 'i3rXi5PtUwjsBwHLP3HXqs', 'S': 'SELL', 'o': 'TAKE_PROFIT', 'f': 'GTC', 'q': '5.05', 'p': '147.63', 'ap': '0', 'sp': '147.63', 'x': 'NEW', 'X': 'NEW', 'i': 123106171436, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881282811, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'TAKE_PROFIT', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:08:02 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106171436, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'TAKE_PROFIT', 'qty': '5.05', 'direction': 'LONG', 'created_at': 1749881282811, 'ask_price': '147.63'}
2025-06-14 06:08:02 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:08:02 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1749881340337, 'T': 1749881340337, 's': 'SOLUSDT', 'q': '5.06', 'p': '0.0000', 'm': False, 'c': 'ZRRiolADlT3XES7jUoO90a', 'S': 'BUY', 'L': '146.4900', 'l': '5.06', 't': 2394028241, 'i': 123106272396}
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881340337, 'E': 1749881340337, 'o': {'s': 'SOLUSDT', 'c': 'ZRRiolADlT3XES7jUoO90a', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.06', 'p': '0', 'ap': '0', 'sp': '0', 'x': 'NEW', 'X': 'NEW', 'i': 123106272396, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881340337, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:09:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106272396, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.06', 'direction': 'LONG', 'created_at': 1749881340337}
2025-06-14 06:09:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:09:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1749881340337, 'E': 1749881340338, 'a': {'B': [{'a': 'USDT', 'wb': '60.22833813', 'cw': '60.22833813', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '15.16', 'ep': '146.52664248', 'cr': '1.28430014', 'up': '-0.30853768', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '146.5999058015'}], 'm': 'ORDER'}}
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:09:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881340337, 'E': 1749881340338, 'o': {'s': 'SOLUSDT', 'c': 'ZRRiolADlT3XES7jUoO90a', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '5.06', 'p': '0', 'ap': '146.49', 'sp': '0', 'x': 'TRADE', 'X': 'FILLED', 'i': 123106272396, 'l': '5.06', 'z': '5.06', 'L': '146.49', 'n': '0.3706197', 'N': 'USDT', 'T': 1749881340337, 't': 2394028241, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:09:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106272396, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '5.06', 'direction': 'LONG', 'ask_price': '146.49', 'filled_price': '146.49', 'updated_at': 1749881340337}
2025-06-14 06:09:00 | INFO   | db.py::findByIdAndUpdateFilledMarketOrder() | Attempting to UPDATE order 123106272396 to FILLED
2025-06-14 06:09:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123106272396 "HTTP/2 200 OK"
2025-06-14 06:09:00 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123106272396
2025-06-14 06:09:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123106272396 "HTTP/2 200 OK"
2025-06-14 06:09:00 | INFO   | db.py::get_group_id_by_order()        | No associated group_id found for order_id: 123106272396
2025-06-14 06:09:00 | INFO   | main.py::main()                       | No group_id found for order, inserting a new entry in order_groups table
2025-06-14 06:09:00 | INFO   | db.py::get_latest_group_id()          | Trying to get the latest group_id
2025-06-14 06:09:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=group_id&order=group_id.desc&limit=1 "HTTP/2 206 Partial Content"
2025-06-14 06:09:00 | INFO   | db.py::get_latest_group_id()          | Retrieved data=[{'group_id': 999999999}] count=10 from db
2025-06-14 06:09:00 | INFO   | db.py::insertNewOrderGroup()          | Trying to insert a new order_group record
2025-06-14 06:09:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups "HTTP/2 201 Created"
2025-06-14 06:09:00 | INFO   | db.py::insertNewOrderGroup()          | Successfully inserted new entry with group_id 999999999 into order_group table.
2025-06-14 06:09:00 | INFO   | db.py::insertNewTrade()               | Attempting to insert new trade into DB...
2025-06-14 06:09:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades "HTTP/2 409 Conflict"
2025-06-14 06:09:01 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:09:01 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881341570, 'E': 1749881341571, 'o': {'s': 'SOLUSDT', 'c': '1nHqIvHe7WowwhueHDO2Px', 'S': 'SELL', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '5.06', 'p': '0', 'ap': '0', 'sp': '146.2', 'x': 'NEW', 'X': 'NEW', 'i': 123106275345, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881341570, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:09:01 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106275345, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '5.06', 'direction': 'LONG', 'created_at': 1749881341570, 'ask_price': '146.2'}
2025-06-14 06:09:01 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:09:01 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:09:02 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-14 06:09:02 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1749881342662, 'E': 1749881342662, 'o': {'s': 'SOLUSDT', 'c': 'Pnj7S25ABF8wEEhO04rGpL', 'S': 'SELL', 'o': 'TAKE_PROFIT', 'f': 'GTC', 'q': '5.06', 'p': '147.58', 'ap': '0', 'sp': '147.58', 'x': 'NEW', 'X': 'NEW', 'i': 123106276752, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1749881342662, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'TAKE_PROFIT', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-14 06:09:02 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123106276752, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'TAKE_PROFIT', 'qty': '5.06', 'direction': 'LONG', 'created_at': 1749881342662, 'ask_price': '147.58'}
2025-06-14 06:09:02 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-14 06:09:02 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-14 06:09:23 | ERROR  | base_events.py::default_exception_handler() | Task was destroyed but it is pending!
task: <Task cancelling name='Task-2' coro=<websocket_binance_event_listener() running at /root/binance-event-listener/src/services/binanceWebsocket.py:48> wait_for=<Future pending cb=[shield.<locals>._outer_done_callback() at /usr/lib/python3.12/asyncio/tasks.py:922, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /usr/lib/python3.12/asyncio/tasks.py:767]>
2025-06-16 08:01:01 | INFO   | binanceWebsocket.py::websocket_binance_event_listener() | Connecting to wss://fstream.binance.com/ws/GUqHLT83IdxrFwfHGC08ik2yFadTQ76MqvXJH770cjPSXVRCgNEZdeQde6BQnblL
2025-06-16 08:01:01 | INFO   | binanceWebsocket.py::websocket_binance_event_listener() | âœ… Connected to Binance event listening websocket
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750061160231, 'T': 1750061160231, 's': 'SOLUSDT', 'q': '2.70', 'p': '0.0000', 'm': False, 'c': 'arLdwagvLmoLUXtBFYHUoK', 'S': 'SELL', 'L': '157.3400', 'l': '0.83', 't': 2398598928, 'i': 123504619285}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750061160231, 'T': 1750061160231, 's': 'SOLUSDT', 'q': '2.70', 'p': '0.0000', 'm': False, 'c': 'arLdwagvLmoLUXtBFYHUoK', 'S': 'SELL', 'L': '157.3400', 'l': '0.95', 't': 2398598929, 'i': 123504619285}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750061160231, 'T': 1750061160231, 's': 'SOLUSDT', 'q': '2.70', 'p': '0.0000', 'm': False, 'c': 'arLdwagvLmoLUXtBFYHUoK', 'S': 'SELL', 'L': '157.3400', 'l': '0.92', 't': 2398598930, 'i': 123504619285}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061160231, 'E': 1750061160231, 'o': {'s': 'SOLUSDT', 'c': 'arLdwagvLmoLUXtBFYHUoK', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.7', 'p': '0', 'ap': '0', 'sp': '0', 'x': 'NEW', 'X': 'NEW', 'i': 123504619285, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750061160231, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:06:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504619285, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'MARKET', 'qty': '2.7', 'direction': 'SHORT', 'created_at': 1750061160231}
2025-06-16 08:06:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 08:06:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750061160231, 'E': 1750061160231, 'a': {'B': [{'a': 'USDT', 'wb': '62.4313685', 'cw': '62.4313685', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '-0.83', 'ep': '157.34', 'cr': '4.36720013', 'up': '0', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '157.26133'}], 'm': 'ORDER'}}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061160231, 'E': 1750061160231, 'o': {'s': 'SOLUSDT', 'c': 'arLdwagvLmoLUXtBFYHUoK', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.7', 'p': '0', 'ap': '157.34', 'sp': '0', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123504619285, 'l': '0.83', 'z': '0.83', 'L': '157.34', 'n': '0.0652961', 'N': 'USDT', 'T': 1750061160231, 't': 2398598928, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:06:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504619285, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'MARKET', 'qty': '2.7', 'direction': 'SHORT'}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750061160231, 'E': 1750061160231, 'a': {'B': [{'a': 'USDT', 'wb': '62.356632', 'cw': '62.356632', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '-1.78', 'ep': '157.34', 'cr': '4.36720013', 'up': '0', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '157.26133'}], 'm': 'ORDER'}}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061160231, 'E': 1750061160231, 'o': {'s': 'SOLUSDT', 'c': 'arLdwagvLmoLUXtBFYHUoK', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.7', 'p': '0', 'ap': '157.34', 'sp': '0', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123504619285, 'l': '0.95', 'z': '1.78', 'L': '157.34', 'n': '0.0747365', 'N': 'USDT', 'T': 1750061160231, 't': 2398598929, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:06:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504619285, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'MARKET', 'qty': '2.7', 'direction': 'SHORT'}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750061160231, 'E': 1750061160231, 'a': {'B': [{'a': 'USDT', 'wb': '62.28425561', 'cw': '62.28425561', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '-2.7', 'ep': '157.34', 'cr': '4.36720013', 'up': '0', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '157.26133'}], 'm': 'ORDER'}}
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061160231, 'E': 1750061160231, 'o': {'s': 'SOLUSDT', 'c': 'arLdwagvLmoLUXtBFYHUoK', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.7', 'p': '0', 'ap': '157.34', 'sp': '0', 'x': 'TRADE', 'X': 'FILLED', 'i': 123504619285, 'l': '0.92', 'z': '2.7', 'L': '157.34', 'n': '0.07237639', 'N': 'USDT', 'T': 1750061160231, 't': 2398598930, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:06:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504619285, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'MARKET', 'qty': '2.7', 'direction': 'SHORT', 'ask_price': '157.34', 'filled_price': '157.34', 'updated_at': 1750061160231}
2025-06-16 08:06:00 | INFO   | db.py::findByIdAndUpdateFilledMarketOrder() | Attempting to UPDATE order 123504619285 to FILLED
2025-06-16 08:06:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123504619285 "HTTP/2 200 OK"
2025-06-16 08:06:05 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123504619285
2025-06-16 08:06:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123504619285 "HTTP/2 200 OK"
2025-06-16 08:06:05 | INFO   | main.py::main()                       | No group_id found for order, inserting a into order_groups with group_id = NONE
2025-06-16 08:06:05 | INFO   | db.py::insertNewOrderGroup()          | Trying to insert a new order_group record with params: {'group_id': None, 'order_id': 123504619285, 'type': 'MO', 'direction': 'SHORT', 'breakeven_price': None, 'breakeven_threshold': None, 'created_at': '2025-06-16 08:06:00.231000'}
2025-06-16 08:06:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups "HTTP/2 409 Conflict"
2025-06-16 08:06:05 | INFO   | db.py::insertNewTrade()               | Attempting to insert new trade into DB with group_id: None, order_data: {'order_id': 123504619285, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'MARKET', 'qty': '2.7', 'direction': 'SHORT', 'ask_price': '157.34', 'filled_price': '157.34', 'updated_at': 1750061160231}
2025-06-16 08:06:05 | INFO   | db.py::insertNewTrade()               | New trade object: {'group_id': None, 'symbol': 'SOLUSDT', 'direction': 'SHORT', 'entry_time': '2025-06-16 08:06:00.231000', 'exit_time': None, 'entry_price': '157.34', 'exit_price': None, 'qty': '2.7', 'realized_pnl': None, 'is_closed': False}
2025-06-16 08:06:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades "HTTP/2 400 Bad Request"
2025-06-16 08:06:05 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:05 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061160479, 'E': 1750061160479, 'o': {'s': 'SOLUSDT', 'c': 'HAwASPUeSuOzvWiRn9xgMv', 'S': 'BUY', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '2.7', 'p': '0', 'ap': '0', 'sp': '157.97', 'x': 'NEW', 'X': 'NEW', 'i': 123504620534, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750061160479, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:06:05 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504620534, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'STOP_MARKET', 'qty': '2.7', 'direction': 'SHORT', 'created_at': 1750061160479, 'ask_price': '157.97'}
2025-06-16 08:06:05 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 08:06:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 08:06:05 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:06:05 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061160564, 'E': 1750061160564, 'o': {'s': 'SOLUSDT', 'c': 'zkBYPXntonePOLaphpmmX8', 'S': 'BUY', 'o': 'TAKE_PROFIT', 'f': 'GTC', 'q': '2.7', 'p': '155.09', 'ap': '0', 'sp': '155.09', 'x': 'NEW', 'X': 'NEW', 'i': 123504620816, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750061160564, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'TAKE_PROFIT', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:06:05 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504620816, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'TAKE_PROFIT', 'qty': '2.7', 'direction': 'SHORT', 'created_at': 1750061160564, 'ask_price': '155.09'}
2025-06-16 08:06:05 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 08:06:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 08:07:29 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:07:29 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061249113, 'E': 1750061249113, 'o': {'s': 'SOLUSDT', 'c': 'HAwASPUeSuOzvWiRn9xgMv', 'S': 'BUY', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '2.7', 'p': '0', 'ap': '0', 'sp': '157.97', 'x': 'CANCELED', 'X': 'CANCELED', 'i': 123504620534, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750061249113, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:07:29 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504620534, 'status': 'CANCELED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'STOP_MARKET', 'qty': '2.7', 'direction': 'SHORT', 'updated_at': 1750061249113}
2025-06-16 08:07:29 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123504620534 "HTTP/2 200 OK"
2025-06-16 08:07:29 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 08:07:29 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750061249200, 'E': 1750061249200, 'o': {'s': 'SOLUSDT', 'c': 'LPW57zHVfowJ9iWVSnVZ4b', 'S': 'BUY', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '2.7', 'p': '0', 'ap': '0', 'sp': '157.23', 'x': 'NEW', 'X': 'NEW', 'i': 123504787990, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750061249200, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 08:07:29 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123504787990, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'STOP_MARKET', 'qty': '2.7', 'direction': 'SHORT', 'created_at': 1750061249200, 'ask_price': '157.23'}
2025-06-16 08:07:29 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 08:07:29 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 08:07:31 | ERROR  | base_events.py::default_exception_handler() | Task was destroyed but it is pending!
task: <Task cancelling name='Task-2' coro=<websocket_binance_event_listener() running at /root/binance-event-listener/src/services/binanceWebsocket.py:48> wait_for=<Future pending cb=[shield.<locals>._outer_done_callback() at /usr/lib/python3.12/asyncio/tasks.py:922, Task.task_wakeup()]> cb=[gather.<locals>._done_callback() at /usr/lib/python3.12/asyncio/tasks.py:767]>
2025-06-16 23:27:03 | INFO   | binanceWebsocket.py::websocket_binance_event_listener() | Connecting to wss://fstream.binance.com/ws/kjDZUomi2j5QcZFzyjMw4VI5h5No3CoPVbCzwPmCdjMroBxFCARrEX6sh3NGDciy
2025-06-16 23:27:03 | INFO   | binanceWebsocket.py::websocket_binance_event_listener() | âœ… Connected to Binance event listening websocket
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750116960462, 'T': 1750116960461, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': '0jsfhHijvWPEwsoPprt4aX', 'S': 'BUY', 'L': '152.1200', 'l': '2.80', 't': 2400292376, 'i': 123642098500}
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750116960461, 'E': 1750116960462, 'o': {'s': 'SOLUSDT', 'c': '0jsfhHijvWPEwsoPprt4aX', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '0', 'sp': '0', 'x': 'NEW', 'X': 'NEW', 'i': 123642098500, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750116960461, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642098500, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '2.8', 'direction': 'LONG', 'created_at': 1750116960461}
2025-06-16 23:36:00 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 23:36:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750116960462, 'E': 1750116960462, 'a': {'B': [{'a': 'USDT', 'wb': '62.004629', 'cw': '62.004629', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '8.21', 'ep': '154.66510353', 'cr': '5.76620014', 'up': '-20.89529563', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '154.7271316809'}], 'm': 'ORDER'}}
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:00 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750116960461, 'E': 1750116960462, 'o': {'s': 'SOLUSDT', 'c': '0jsfhHijvWPEwsoPprt4aX', 'S': 'BUY', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.12', 'sp': '0', 'x': 'TRADE', 'X': 'FILLED', 'i': 123642098500, 'l': '2.8', 'z': '2.8', 'L': '152.12', 'n': '0.212968', 'N': 'USDT', 'T': 1750116960461, 't': 2400292376, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:00 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642098500, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '2.8', 'direction': 'LONG', 'ask_price': '152.12', 'filled_price': '152.12', 'updated_at': 1750116960461}
2025-06-16 23:36:00 | INFO   | db.py::findByIdAndUpdateFilledMarketOrder() | Attempting to UPDATE order 123642098500 to FILLED
2025-06-16 23:36:00 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123642098500 "HTTP/2 200 OK"
2025-06-16 23:36:05 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123642098500
2025-06-16 23:36:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123642098500 "HTTP/2 200 OK"
2025-06-16 23:36:05 | INFO   | db.py::insertNewTrade()               | Attempting to insert new trade into DB with group_id: 2, order_data: {'order_id': 123642098500, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'BUY', 'type': 'MARKET', 'qty': '2.8', 'direction': 'LONG', 'ask_price': '152.12', 'filled_price': '152.12', 'updated_at': 1750116960461}
2025-06-16 23:36:05 | INFO   | db.py::insertNewTrade()               | New trade object: {'group_id': 2, 'symbol': 'SOLUSDT', 'direction': 'LONG', 'entry_time': '2025-06-16 23:36:00.461000', 'exit_time': None, 'entry_price': '152.12', 'exit_price': None, 'qty': '2.8', 'realized_pnl': None, 'is_closed': False}
2025-06-16 23:36:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades "HTTP/2 201 Created"
2025-06-16 23:36:05 | INFO   | db.py::insertNewTrade()               | Successfully inserted new trade with group_id 2 into trades table.
2025-06-16 23:36:05 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:05 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750116961720, 'E': 1750116961720, 'o': {'s': 'SOLUSDT', 'c': 'A1PCxbkYb4NUx2n9nflYuR', 'S': 'SELL', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '0', 'sp': '151.51', 'x': 'NEW', 'X': 'NEW', 'i': 123642104691, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750116961720, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:05 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642104691, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG', 'created_at': 1750116961720, 'ask_price': '151.51'}
2025-06-16 23:36:05 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 23:36:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 23:36:05 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:05 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750116962803, 'E': 1750116962803, 'o': {'s': 'SOLUSDT', 'c': 'SZb0PnKOAWnn1BrNnIzs3a', 'S': 'SELL', 'o': 'TAKE_PROFIT', 'f': 'GTC', 'q': '2.8', 'p': '154.3', 'ap': '0', 'sp': '154.3', 'x': 'NEW', 'X': 'NEW', 'i': 123642110595, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750116962803, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'TAKE_PROFIT', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:05 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642110595, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'TAKE_PROFIT', 'qty': '2.8', 'direction': 'LONG', 'created_at': 1750116962803, 'ask_price': '154.3'}
2025-06-16 23:36:05 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 23:36:05 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 23:36:25 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:25 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750116985101, 'E': 1750116985101, 'o': {'s': 'SOLUSDT', 'c': 'A1PCxbkYb4NUx2n9nflYuR', 'S': 'SELL', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '0', 'sp': '151.51', 'x': 'CANCELED', 'X': 'CANCELED', 'i': 123642104691, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750116985101, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:25 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642104691, 'status': 'CANCELED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG', 'updated_at': 1750116985101}
2025-06-16 23:36:25 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123642104691 "HTTP/2 200 OK"
2025-06-16 23:36:25 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:25 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750116985190, 'E': 1750116985190, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '0', 'sp': '152.23', 'x': 'NEW', 'X': 'NEW', 'i': 123642188006, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750116985190, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:25 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG', 'created_at': 1750116985190, 'ask_price': '152.23'}
2025-06-16 23:36:25 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 23:36:25 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 201 Created"
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015777, 'E': 1750117015778, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'STOP_MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '0', 'sp': '152.23', 'x': 'EXPIRED', 'X': 'EXPIRED', 'i': 123642188006, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750117015777, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'EXPIRED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '0.04', 't': 2400295964, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '0.07', 't': 2400295965, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '0.26', 't': 2400295966, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '0.11', 't': 2400295967, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '0.04', 't': 2400295968, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '0.04', 't': 2400295969, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '1.00', 't': 2400295970, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'TRADE_LITE', 'E': 1750117015794, 'T': 1750117015794, 's': 'SOLUSDT', 'q': '2.80', 'p': '0.0000', 'm': False, 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'L': '152.2100', 'l': '1.24', 't': 2400295971, 'i': 123642188006}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015794, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '0', 'sp': '152.23', 'x': 'NEW', 'X': 'NEW', 'i': 123642188006, 'l': '0', 'z': '0', 'L': '0', 'n': '0', 'N': 'USDT', 'T': 1750117015794, 't': 0, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '0', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'NEW', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG', 'created_at': 1750117015794, 'ask_price': '152.23'}
2025-06-16 23:36:55 | INFO   | db.py::insertNewOrderByType()         | Attempting to insert new order into DB...
2025-06-16 23:36:55 | INFO   | _client.py::_send_single_request()    | HTTP Request: POST https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders "HTTP/2 409 Conflict"
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015794, 'a': {'B': [{'a': 'USDT', 'wb': '61.90338066', 'cw': '61.90338066', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '8.17', 'ep': '154.66510353', 'cr': '5.667996', 'up': '-19.33095039', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '154.7398280661'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015794, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123642188006, 'l': '0.04', 'z': '0.04', 'L': '152.21', 'n': '0.0030442', 'N': 'USDT', 'T': 1750117015794, 't': 2400295964, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-0.09820414', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015794, 'a': {'B': [{'a': 'USDT', 'wb': '61.72619607', 'cw': '61.72619607', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '8.1', 'ep': '154.66510353', 'cr': '5.49613876', 'up': '-19.16532414', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '154.7623484753'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015794, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123642188006, 'l': '0.07', 'z': '0.11', 'L': '152.21', 'n': '0.00532735', 'N': 'USDT', 'T': 1750117015794, 't': 2400295965, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-0.17185724', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'a': {'B': [{'a': 'USDT', 'wb': '61.06808186', 'cw': '61.06808186', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '7.84', 'ep': '154.66510353', 'cr': '4.85781185', 'up': '-18.55014089', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '154.8495165752'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123642188006, 'l': '0.26', 'z': '0.37', 'L': '152.21', 'n': '0.0197873', 'N': 'USDT', 'T': 1750117015794, 't': 2400295966, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-0.63832691', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'a': {'B': [{'a': 'USDT', 'wb': '60.78964893', 'cw': '60.78964893', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '7.73', 'ep': '154.66510353', 'cr': '4.58775047', 'up': '-18.28987106', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '154.888160608'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123642188006, 'l': '0.11', 'z': '0.48', 'L': '152.21', 'n': '0.00837155', 'N': 'USDT', 'T': 1750117015794, 't': 2400295967, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-0.27006138', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'a': {'B': [{'a': 'USDT', 'wb': '60.68840059', 'cw': '60.68840059', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '7.69', 'ep': '154.66510353', 'cr': '4.48954633', 'up': '-18.19522748', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '154.9024870871'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123642188006, 'l': '0.04', 'z': '0.52', 'L': '152.21', 'n': '0.0030442', 'N': 'USDT', 'T': 1750117015794, 't': 2400295968, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-0.09820414', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'a': {'B': [{'a': 'USDT', 'wb': '60.58715225', 'cw': '60.58715225', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '7.65', 'ep': '154.66510353', 'cr': '4.39134219', 'up': '-18.10058391', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '154.9169633856'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123642188006, 'l': '0.04', 'z': '0.56', 'L': '152.21', 'n': '0.0030442', 'N': 'USDT', 'T': 1750117015794, 't': 2400295969, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-0.09820414', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'a': {'B': [{'a': 'USDT', 'wb': '58.05594372', 'cw': '58.05594372', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '6.65', 'ep': '154.66510353', 'cr': '1.93623866', 'up': '-15.73449451', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '155.3354699098'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'PARTIALLY_FILLED', 'i': 123642188006, 'l': '1', 'z': '1.56', 'L': '152.21', 'n': '0.076105', 'N': 'USDT', 'T': 1750117015794, 't': 2400295970, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-2.45510353', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'PARTIALLY_FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG'}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ACCOUNT_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'a': {'B': [{'a': 'USDT', 'wb': '54.91724514', 'cw': '54.91724514', 'bc': '0'}], 'P': [{'s': 'SOLUSDT', 'pa': '5.41', 'ep': '154.66510353', 'cr': '-1.10808972', 'up': '-12.80054365', 'mt': 'cross', 'iw': '0', 'ps': 'BOTH', 'ma': 'USDT', 'bep': '156.0692874492'}], 'm': 'ORDER'}}
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ”´ Awaiting next event in queue from Binance event websocket...
2025-06-16 23:36:55 | INFO   | main.py::main()                       | ðŸ˜± Received new Binance event! Event: {'e': 'ORDER_TRADE_UPDATE', 'T': 1750117015794, 'E': 1750117015795, 'o': {'s': 'SOLUSDT', 'c': 'Ae0dN3lzXgn8oyHUHFOktd', 'S': 'SELL', 'o': 'MARKET', 'f': 'GTC', 'q': '2.8', 'p': '0', 'ap': '152.21', 'sp': '152.23', 'x': 'TRADE', 'X': 'FILLED', 'i': 123642188006, 'l': '1.24', 'z': '2.8', 'L': '152.21', 'n': '0.0943702', 'N': 'USDT', 'T': 1750117015794, 't': 2400295971, 'b': '0', 'a': '0', 'm': False, 'R': False, 'wt': 'CONTRACT_PRICE', 'ot': 'STOP_MARKET', 'ps': 'BOTH', 'cp': False, 'rp': '-3.04432838', 'pP': False, 'si': 0, 'ss': 0, 'V': 'EXPIRE_MAKER', 'pm': 'NONE', 'gtd': 0}}
2025-06-16 23:36:55 | INFO   | event_handler.py::event_parser()      | Successfully parsed event, returning: {'order_id': 123642188006, 'status': 'FILLED', 'symbol': 'SOLUSDT', 'side': 'SELL', 'type': 'STOP_MARKET', 'qty': '2.8', 'direction': 'LONG', 'filled_price': '152.21', 'updated_at': 1750117015794}
2025-06-16 23:36:55 | INFO   | db.py::findByIdAndUpdateFilledSLTPOrder() | Attempting to UPDATE order 123642188006 to FILLED
2025-06-16 23:36:55 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/orders?order_id=eq.123642188006 "HTTP/2 200 OK"
2025-06-16 23:36:55 | INFO   | db.py::get_group_id_by_order()        | Trying to get latest group_id by order: 123642188006
2025-06-16 23:36:55 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&order_id=eq.123642188006 "HTTP/2 200 OK"
2025-06-16 23:36:55 | INFO   | db.py::updateTrade()                  | Attempting to update trade...
2025-06-16 23:36:56 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades?select=%2A&group_id=eq.2 "HTTP/2 200 OK"
2025-06-16 23:36:56 | INFO   | _client.py::_send_single_request()    | HTTP Request: PATCH https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/trades?group_id=eq.2 "HTTP/2 200 OK"
2025-06-16 23:36:56 | INFO   | db.py::updateTrade()                  | Successfully updated trade with group_id 2 in the trades table.
2025-06-16 23:36:56 | INFO   | db.py::find_remaining_order()         | Trying to remaining order_id of type TP by group_id: 2
2025-06-16 23:36:56 | INFO   | _client.py::_send_single_request()    | HTTP Request: GET https://dpiygxjxrqliujdupyxf.supabase.co/rest/v1/order_groups?select=%2A&group_id=eq.2&type=eq.TP "HTTP/2 200 OK"
